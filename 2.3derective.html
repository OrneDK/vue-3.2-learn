<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Document</title>
</head>

<body>
    <div id="app" my-directive>
        
    </div>
    <script src="vue.global.js"></script>
    <script>
        let {
            createApp
        } = Vue
        let app = createApp({})
        // 注册
        app.directive('my-directive', {
            // 指令具有一组生命周期钩子：
            // 在绑定元素的 attribute 或事件监听器被应用之前调用
            created() {
                console.log('1');
            },
            // 在绑定元素的父组件挂载之前调用
            beforeMount() {
                console.log('2');
            },
            // 在绑定元素的父组件挂载之后调用
            mounted() {
                console.log('3');
            },
            // 在包含组件的 VNode 更新之前调用
            beforeUpdate() {
                console.log('4');
            },
            // 在包含组件的 VNode 及其子组件的 VNode 更新之后调用
            updated() {
                console.log('5');
            },
            // 在绑定元素的父组件卸载之前调用
            beforeUnmount() {
                console.log('6');
            },
            // 在绑定元素的父组件卸载之后调用
            unmounted() {
                console.log('7');
            }
        })
        // 注册 (函数指令)
        app.directive('my-directive', () => {
            console.log('<<<,');
            // 这将被作为 `mounted` 和 `updated` 调用
        })
        app.mount('#app')
    </script>
</body>

</html>